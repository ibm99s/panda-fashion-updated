# دليل نشر موقع مركز الباندا على Netlify

## نظرة عامة

هذا الدليل يشرح خطوات نشر موقع مركز الباندا للأزياء والتجميل على منصة Netlify. تم اختيار Netlify بعد مواجهة مشاكل متكررة مع Vercel، حيث أن Netlify أكثر توافقاً مع بنية المشروع الحالية.

---

## المتطلبات الأساسية

1. **حساب GitHub**: لرفع الكود إلى مستودع GitHub
2. **حساب Netlify**: يمكن إنشاؤه مجاناً على [netlify.com](https://netlify.com)
3. **الملفات المطلوبة**: جميع ملفات المشروع موجودة وجاهزة

---

## الخطوة 1: رفع المشروع إلى GitHub

### 1.1 إنشاء مستودع جديد على GitHub

1. اذهب إلى [github.com](https://github.com) وسجل الدخول
2. اضغط على زر **"New repository"** أو **"مستودع جديد"**
3. املأ البيانات التالية:
   - **اسم المستودع**: `panda-fashion` (أو أي اسم تفضله)
   - **الوصف**: "موقع مركز الباندا لأرقى الأزياء ومستلزمات التجميل"
   - **الخصوصية**: يمكنك اختيار Public أو Private
4. **لا تقم** بتحديد "Add a README file" أو "Add .gitignore"
5. اضغط على **"Create repository"**

### 1.2 رفع الكود إلى GitHub

بعد إنشاء المستودع، ستظهر لك تعليمات. استخدم الأوامر التالية في مجلد المشروع:

```bash
# الانتقال إلى مجلد المشروع
cd /home/ubuntu/panda-fashion

# تهيئة Git (إذا لم يكن مهيأ)
git init

# إضافة جميع الملفات
git add .

# إنشاء أول commit
git commit -m "Initial commit: موقع مركز الباندا للأزياء والتجميل"

# ربط المستودع المحلي بـ GitHub (استبدل USERNAME باسم المستخدم الخاص بك)
git remote add origin https://github.com/USERNAME/panda-fashion.git

# رفع الكود إلى GitHub
git branch -M main
git push -u origin main
```

**ملاحظة**: إذا طلب منك GitHub اسم المستخدم وكلمة المرور، استخدم **Personal Access Token** بدلاً من كلمة المرور العادية.

---

## الخطوة 2: ربط المشروع مع Netlify

### 2.1 إنشاء حساب Netlify

1. اذهب إلى [netlify.com](https://netlify.com)
2. اضغط على **"Sign up"** أو **"التسجيل"**
3. اختر **"Sign up with GitHub"** لتسهيل عملية الربط
4. امنح Netlify الصلاحيات المطلوبة للوصول إلى مستودعات GitHub

### 2.2 إنشاء موقع جديد على Netlify

1. بعد تسجيل الدخول، اضغط على **"Add new site"** ثم **"Import an existing project"**
2. اختر **"Deploy with GitHub"**
3. ابحث عن مستودع `panda-fashion` واختره
4. في صفحة إعدادات النشر، أدخل المعلومات التالية:

#### إعدادات البناء (Build settings):

```
Branch to deploy: main
Build command: npm run build
Publish directory: dist/public
```

#### متغيرات البيئة (Environment variables):

اضغط على **"Advanced build settings"** ثم **"New variable"** وأضف المتغيرات التالية:

| المتغير | القيمة | الوصف |
|---------|--------|-------|
| `NODE_VERSION` | `22.13.0` | إصدار Node.js |
| `VITE_APP_TITLE` | `مركز الباندا لأرقى الأزياء ومستلزمات التجميل` | عنوان الموقع |
| `VITE_APP_LOGO` | `https://your-logo-url.com/logo.png` | رابط الشعار |

**ملاحظة هامة**: المتغيرات الأخرى مثل `DATABASE_URL` و `JWT_SECRET` مطلوبة فقط إذا كنت تستخدم ميزات قاعدة البيانات والمصادقة. بما أن الموقع حالياً هو موقع عرض (catalog) فقط، يمكنك تخطي هذه المتغيرات.

5. اضغط على **"Deploy site"** أو **"نشر الموقع"**

---

## الخطوة 3: انتظار اكتمال النشر

1. ستبدأ Netlify في بناء ونشر الموقع تلقائياً
2. يمكنك متابعة سجل البناء (Build log) لرؤية التقدم
3. عادة ما تستغرق العملية 2-5 دقائق
4. عند اكتمال النشر، ستظهر رسالة **"Site is live"**

---

## الخطوة 4: اختبار الموقع

1. بعد اكتمال النشر، ستحصل على رابط مؤقت مثل:
   ```
   https://random-name-123456.netlify.app
   ```

2. افتح الرابط في المتصفح وتأكد من:
   - ✅ الصفحة الرئيسية تعمل بشكل صحيح
   - ✅ جميع الصفحات (من نحن، المنتجات، معرض الصور، تواصل معنا) تعمل
   - ✅ الصور تظهر بشكل صحيح
   - ✅ زر الواتساب يعمل
   - ✅ روابط وسائل التواصل الاجتماعي تعمل
   - ✅ نموذج التواصل يعمل

---

## الخطوة 5: ربط النطاق المخصص (alpandacenter.com)

### 5.1 إضافة النطاق في Netlify

1. في لوحة تحكم Netlify، اذهب إلى موقعك
2. اضغط على **"Domain settings"** أو **"إعدادات النطاق"**
3. اضغط على **"Add custom domain"**
4. أدخل `alpandacenter.com`
5. اضغط على **"Verify"** ثم **"Add domain"**

### 5.2 تحديث إعدادات DNS

ستحتاج إلى تحديث سجلات DNS لدى مزود النطاق الخاص بك (مثل Namecheap، GoDaddy، أو Hostinger).

#### الطريقة 1: استخدام Netlify DNS (موصى بها)

1. في Netlify، اضغط على **"Set up Netlify DNS"**
2. اتبع التعليمات لنقل إدارة DNS إلى Netlify
3. في لوحة تحكم مزود النطاق، غير Name Servers إلى:
   ```
   dns1.p01.nsone.net
   dns2.p01.nsone.net
   dns3.p01.nsone.net
   dns4.p01.nsone.net
   ```

#### الطريقة 2: استخدام DNS الحالي

إذا كنت تفضل الاحتفاظ بمزود DNS الحالي، أضف السجلات التالية:

**سجل A (A Record):**
```
Type: A
Name: @
Value: 75.2.60.5
TTL: 3600
```

**سجل CNAME للـ www:**
```
Type: CNAME
Name: www
Value: random-name-123456.netlify.app (استبدل بالرابط الخاص بك)
TTL: 3600
```

### 5.3 تفعيل HTTPS

1. بعد ربط النطاق، انتظر حتى ينتشر DNS (قد يستغرق حتى 48 ساعة)
2. في Netlify، اذهب إلى **"Domain settings"** > **"HTTPS"**
3. اضغط على **"Verify DNS configuration"**
4. بعد التحقق، اضغط على **"Provision certificate"**
5. سيتم تفعيل HTTPS تلقائياً (شهادة SSL مجانية من Let's Encrypt)

---

## الخطوة 6: التحديثات المستقبلية

عندما تريد تحديث الموقع:

1. قم بتعديل الملفات في مجلد المشروع المحلي
2. ارفع التغييرات إلى GitHub:
   ```bash
   git add .
   git commit -m "وصف التحديث"
   git push origin main
   ```
3. سيتم نشر التحديثات تلقائياً على Netlify خلال دقائق

---

## حل المشاكل الشائعة

### المشكلة 1: فشل البناء (Build failed)

**الحل:**
1. تحقق من سجل البناء (Build log) لمعرفة الخطأ
2. تأكد من أن `package.json` يحتوي على جميع التبعيات المطلوبة
3. تأكد من أن أمر البناء صحيح: `npm run build`
4. تأكد من أن مجلد النشر صحيح: `dist/public`

### المشكلة 2: الصفحة 404 عند تحديث الصفحة

**الحل:**
- تأكد من وجود ملف `netlify.toml` في جذر المشروع
- يجب أن يحتوي على قواعد إعادة التوجيه (redirects)

### المشكلة 3: الصور لا تظهر

**الحل:**
1. تأكد من أن الصور موجودة في مجلد `client/public/assets/images/`
2. تأكد من أن المسارات في الكود تبدأ بـ `/assets/images/`
3. تحقق من حجم الصور (يجب أن تكون أقل من 10 MB لكل صورة)

### المشكلة 4: DNS لا يعمل

**الحل:**
1. انتظر حتى 48 ساعة لانتشار DNS
2. استخدم أداة [whatsmydns.net](https://whatsmydns.net) للتحقق من انتشار DNS
3. تأكد من إدخال سجلات DNS بشكل صحيح

---

## معلومات إضافية

### مميزات Netlify

- ✅ نشر تلقائي عند كل تحديث في GitHub
- ✅ شهادة SSL مجانية (HTTPS)
- ✅ CDN عالمي لسرعة تحميل أفضل
- ✅ معاينة فورية للتغييرات (Deploy Previews)
- ✅ دعم فني ممتاز
- ✅ خطة مجانية سخية (100 GB bandwidth شهرياً)

### الخطة المجانية تشمل:

- 100 GB Bandwidth شهرياً
- 300 دقيقة بناء شهرياً
- نطاق مخصص واحد
- شهادة SSL تلقائية
- نشر تلقائي من Git

---

## روابط مفيدة

- [Netlify Documentation](https://docs.netlify.com/)
- [Netlify Community Forum](https://answers.netlify.com/)
- [Netlify Status](https://www.netlifystatus.com/)

---

## الدعم الفني

إذا واجهت أي مشاكل:

1. راجع [Netlify Documentation](https://docs.netlify.com/)
2. ابحث في [Netlify Community Forum](https://answers.netlify.com/)
3. تواصل مع دعم Netlify من خلال لوحة التحكم

---

**ملاحظة نهائية**: هذا الدليل يغطي نشر الموقع كموقع عرض (catalog) فقط. إذا أردت إضافة ميزات متقدمة مثل قاعدة البيانات أو المصادقة لاحقاً، ستحتاج إلى إعداد إضافي.

---

**تم إعداد هذا الدليل خصيصاً لمشروع مركز الباندا للأزياء والتجميل**

**تاريخ الإعداد**: 22 أكتوبر 2025

